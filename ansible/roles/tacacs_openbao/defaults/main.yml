---
# OpenBao integration defaults for TACACS+ server

# Whether OpenBao integration is enabled
openbao_enabled: false

# OpenBao server address
openbao_address: "https://openbao.internal:8200"

# OpenBao authentication method (currently only approle is supported)
openbao_auth_method: "approle"

# AppRole configuration
openbao_approle_role_name: "tacacs-server"
openbao_approle_policies:
  - "tacacs-secrets"
  - "tacacs-pki"

# Secret paths in OpenBao
openbao_secret_path_prefix: "secret/data/tacacs"

# PKI configuration
openbao_pki_enabled: false
openbao_pki_mount: "pki"
openbao_pki_role: "tacacs-server"
openbao_pki_ttl: "720h"
openbao_pki_renewal_threshold: 70
openbao_pki_allowed_domains:
  - "tacacs.internal"

# Local file paths for AppRole credentials
openbao_role_id_file: "/etc/tacacs/openbao-role-id"
openbao_secret_id_file: "/etc/tacacs/openbao-secret-id"

# Optional CA certificate for OpenBao TLS verification
openbao_ca_file: ""

# Secret refresh interval in seconds
openbao_refresh_interval_secs: 300

# TACACS user/group (from tacacs_common)
tacacs_user: tacacs
tacacs_group: tacacs

# Root token for initial setup (should be provided via vault or CI/CD)
# openbao_root_token: "{{ vault_openbao_root_token }}"

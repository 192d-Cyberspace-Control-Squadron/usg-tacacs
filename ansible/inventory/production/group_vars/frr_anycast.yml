# SPDX-License-Identifier: AGPL-3.0-only
# FRR BGP Anycast configuration for TACACS+ servers
---
# Anycast VIP - same IP advertised from all locations
frr_anycast_vip: "10.255.255.1"
frr_anycast_vip_prefix: 32

# BGP configuration
# Use a private ASN for the TACACS+ anycast network
frr_bgp_asn: 65000

# BGP neighbors - configure per-location or use a common peer
# These should be your core/edge routers
frr_bgp_neighbors: []
# Override per-location in host_vars, e.g.:
# frr_bgp_neighbors:
#   - address: 10.1.1.1
#     remote_asn: 65100
#     description: "NYC01-Core-1"
#   - address: 10.1.1.2
#     remote_asn: 65100
#     description: "NYC01-Core-2"

# BGP timers (aggressive for fast failover)
frr_bgp_keepalive: 10
frr_bgp_holdtime: 30

# BFD for sub-second failover
frr_bfd_enabled: true
frr_bfd_min_rx: 300
frr_bfd_min_tx: 300
frr_bfd_detect_multiplier: 3

# Health check configuration
frr_health_check_enabled: true
frr_health_check_url: "http://127.0.0.1:8080/ready"
frr_health_check_interval: 5
frr_health_check_timeout: 3
frr_health_check_failures: 2

# Community tagging for traffic engineering
frr_bgp_community_healthy: "65000:100"
frr_bgp_community_draining: "65000:50"

# Per-location community (set in host_vars)
# frr_bgp_community_location: "65000:1001"  # NYC01
# frr_bgp_community_location: "65000:1002"  # LAX01
# etc.
